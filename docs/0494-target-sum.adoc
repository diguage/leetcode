[#0494-target-sum]
= 494. 目标和

https://leetcode.cn/problems/target-sum/[LeetCode - 494. 目标和^]

给你一个非负整数数组 `nums` 和一个整数 `target`。

向数组中的每个整数前添加 `+` 或 `-`，然后串联起所有整数，可以构造一个 *表达式*：

* 例如，`nums = [2, 1]`，可以在 `2` 之前添加 `+` ，在 `1` 之前添加 `-` ，然后串联起来得到表达式 `+2-1` 。

返回可以通过上述方法构造的、运算结果等于 `target` 的不同 *表达式* 的数目。

*示例 1：*

....
输入：nums = [1,1,1,1,1], target = 3
输出：5
解释：一共有 5 种方法让最终目标和为 3 。
-1 + 1 + 1 + 1 + 1 = 3
+1 - 1 + 1 + 1 + 1 = 3
+1 + 1 - 1 + 1 + 1 = 3
+1 + 1 + 1 - 1 + 1 = 3
+1 + 1 + 1 + 1 - 1 = 3
....

*示例 2：*

....
输入：nums = [1], target = 1
输出：1
....

*提示：*

* `+1 <= nums.length <= 20+`
* `+0 <= nums[i] <= 1000+`
* `+0 <= sum(nums[i]) <= 1000+`
* `+-1000 <= target <= 1000+`


== 思路分析

这道题可以使用 DFS 解决。不过，需要注意的是，只需要保存关键变量即可。另外，也可以增加实例变量。

通过 latexmath:[sum = positive + negative] 和 latexmath:[target = positive - negative] 解方程可以得到 latexmath:[positive = (sum + target) / 2] 和 latexmath:[negative = (sum - target) / 2]。那么，只需要从数字数组中挑选出一些元素使其等于 `positive` 或 `negative` 即可。这就转化成了一个 0/1 背包问题。

[[src-0494]]
[tabs]
====
一刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0494_TargetSum.java[tag=answer]
----
--

二刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0494_TargetSum_2.java[tag=answer]
----
--
====

== 思考题

. 再推敲一下动态规划的解法；
. 学习背包问题！


== 参考资料

. https://leetcode.cn/problems/target-sum/solutions/2119041/jiao-ni-yi-bu-bu-si-kao-dong-tai-gui-hua-s1cx/[494. 目标和 - 两种方法：0-1 背包 / 折半枚举^]
. https://leetcode.cn/problems/target-sum/solutions/816361/mu-biao-he-by-leetcode-solution-o0cp/[494. 目标和 - 官方题解^]
. https://leetcode.cn/problems/target-sum/solutions/816711/gong-shui-san-xie-yi-ti-si-jie-dfs-ji-yi-et5b/[494. 目标和 - 一题四解 : 「DFS」&「记忆化搜索」&「全量 DP」&「优化 DP」^]
. https://leetcode.cn/problems/target-sum/solutions/666699/494-mu-biao-he-dong-tai-gui-hua-zhi-01be-78ll/[494. 目标和 - 动态规划之01背包问题^]
. https://leetcode.cn/problems/target-sum/solutions/816584/dai-ma-sui-xiang-lu-494-mu-biao-he-01bei-rte9/[494. 目标和 - 从二维DP数组到一维DP数组^]
. https://leetcode.cn/problems/target-sum/solutions/328335/dong-tai-gui-hua-he-hui-su-suan-fa-dao-di-shui-shi/[494. 目标和 - 动态规划和回溯算法对比^]
. https://leetcode.cn/problems/target-sum/solutions/27225/dong-tai-gui-hua-ji-bai-liao-98de-javayong-hu-by-r/[494. 目标和 - 动态规划击败了98%的java用户^]

