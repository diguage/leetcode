[#0000-06-two-pointer]
= Two Pointer 双指针

双指针是这样的模式：两个指针朝着左右方向移动（双指针分为同向双指针和异向双指针），直到他们有一个或是两个都满足某种条件。双指针通常用在排好序的数组或是链表中寻找对子。比如，你需要去比较数组中每个元素和其他元素的关系时，你就需要用到双指针了。

我们需要双指针的原因是：如果你只用一个指针的话，你得来回跑才能在数组中找到你需要的答案。这一个指针来来回回的过程就很耗时和浪费空间了 — 这是考虑算法的复杂度分析的时候的重要概念。虽然brute force一个指针的解法可能会奏效，但时间复杂度一般会是O(n²)。在很多情况下，双指针能帮助我们找到空间或是时间复杂度更低的解。

识别使用双指针的招数：

* 一般来说，数组或是链表是排好序的，你得在里头找一些组合满足某种限制条件
* 这种组合可能是一对数，三个数，或是一个子数组

== 经典题目

. xref:0005-longest-palindromic-substring.adoc[5. Longest Palindromic Substring]
. xref:0011-container-with-most-water.adoc[11. Container With Most Water]
. xref:0015-3sum.adoc[15. 3Sum]
. xref:0016-3sum-closest.adoc[16. 3Sum Closest]
. xref:0018-4sum.adoc[18. 4Sum]
. xref:0019-remove-nth-node-from-end-of-list.adoc[19. Remove Nth Node From End of List]
. xref:0026-remove-duplicates-from-sorted-array.adoc[26. Remove Duplicates from Sorted Array]
. xref:0027-remove-element.adoc[27. Remove Element]
. xref:0028-find-the-index-of-the-first-occurrence-in-a-string.adoc[28. Find the Index of the First Occurrence in a String]
. xref:0031-next-permutation.adoc[31. Next Permutation]
. xref:0042-trapping-rain-water.adoc[42. Trapping Rain Water]
. xref:0061-rotate-list.adoc[61. Rotate List]
. xref:0075-sort-colors.adoc[75. Sort Colors]
. xref:0080-remove-duplicates-from-sorted-array-ii.adoc[80. Remove Duplicates from Sorted Array II]
. xref:0082-remove-duplicates-from-sorted-list-ii.adoc[82. Remove Duplicates from Sorted List II]
. xref:0086-partition-list.adoc[86. Partition List]
. xref:0088-merge-sorted-array.adoc[88. Merge Sorted Array]
. xref:0125-valid-palindrome.adoc[125. Valid Palindrome]
. xref:0141-linked-list-cycle.adoc[141. Linked List Cycle]
. xref:0142-linked-list-cycle-ii.adoc[142. Linked List Cycle II]
. xref:0143-reorder-list.adoc[143. Reorder List]
. xref:0148-sort-list.adoc[148. Sort List]
. xref:0151-reverse-words-in-a-string.adoc[151. Reverse Words in a String]
. xref:0160-intersection-of-two-linked-lists.adoc[160. Intersection of Two Linked Lists]
. xref:0161-one-edit-distance.adoc[161. One Edit Distance]
. xref:0165-compare-version-numbers.adoc[165. Compare Version Numbers]
. xref:0167-two-sum-ii-input-array-is-sorted.adoc[167. Two Sum II - Input Array Is Sorted]
. xref:0170-two-sum-iii-data-structure-design.adoc[170. Two Sum III - Data structure design]
. xref:0186-reverse-words-in-a-string-ii.adoc[186. Reverse Words in a String II]
. xref:0189-rotate-array.adoc[189. Rotate Array]
. xref:0202-happy-number.adoc[202. Happy Number]
. xref:0234-palindrome-linked-list.adoc[234. Palindrome Linked List]
. xref:0244-shortest-word-distance-ii.adoc[244. Shortest Word Distance II]
. xref:0246-strobogrammatic-number.adoc[246. Strobogrammatic Number]
. xref:0251-flatten-2d-vector.adoc[251. Flatten 2D Vector]
. xref:0253-meeting-rooms-ii.adoc[253. Meeting Rooms II]
. xref:0259-3sum-smaller.adoc[259. 3Sum Smaller]
. xref:0272-closest-binary-search-tree-value-ii.adoc[272. Closest Binary Search Tree Value II]
. xref:0277-find-the-celebrity.adoc[277. Find the Celebrity]
. xref:0283-move-zeroes.adoc[283. Move Zeroes]
. xref:0287-find-the-duplicate-number.adoc[287. Find the Duplicate Number]
. xref:0295-find-median-from-data-stream.adoc[295. Find Median from Data Stream]
. xref:0321-create-maximum-number.adoc[321. Create Maximum Number]
. xref:0344-reverse-string.adoc[344. Reverse String]
. xref:0345-reverse-vowels-of-a-string.adoc[345. Reverse Vowels of a String]
. xref:0349-intersection-of-two-arrays.adoc[349. Intersection of Two Arrays]
. xref:0350-intersection-of-two-arrays-ii.adoc[350. Intersection of Two Arrays II]
. xref:0360-sort-transformed-array.adoc[360. Sort Transformed Array]
. xref:0392-is-subsequence.adoc[392. Is Subsequence]
. xref:0408-valid-word-abbreviation.adoc[408. Valid Word Abbreviation]
. xref:0443-string-compression.adoc[443. String Compression]
. xref:0455-assign-cookies.adoc[455. Assign Cookies]
. xref:0457-circular-array-loop.adoc[457. Circular Array Loop]
. xref:0475-heaters.adoc[475. Heaters]
. xref:0481-magical-string.adoc[481. Magical String]
. xref:0522-longest-uncommon-subsequence-ii.adoc[522. Longest Uncommon Subsequence II]
. xref:0524-longest-word-in-dictionary-through-deleting.adoc[524. Longest Word in Dictionary through Deleting]
. xref:0532-k-diff-pairs-in-an-array.adoc[532. K-diff Pairs in an Array]
. xref:0541-reverse-string-ii.adoc[541. Reverse String II]
. xref:0556-next-greater-element-iii.adoc[556. Next Greater Element III]
. xref:0557-reverse-words-in-a-string-iii.adoc[557. Reverse Words in a String III]
. xref:0567-permutation-in-string.adoc[567. Permutation in String]
. xref:0581-shortest-unsorted-continuous-subarray.adoc[581. Shortest Unsorted Continuous Subarray]
. xref:0611-valid-triangle-number.adoc[611. Valid Triangle Number]
. xref:0633-sum-of-square-numbers.adoc[633. Sum of Square Numbers]
. xref:0647-palindromic-substrings.adoc[647. Palindromic Substrings]
. xref:0653-two-sum-iv-input-is-a-bst.adoc[653. Two Sum IV - Input is a BST]
. xref:0658-find-k-closest-elements.adoc[658. Find K Closest Elements]
. xref:0680-valid-palindrome-ii.adoc[680. Valid Palindrome II]
. xref:0696-count-binary-substrings.adoc[696. Count Binary Substrings]
. xref:0719-find-k-th-smallest-pair-distance.adoc[719. Find K-th Smallest Pair Distance]
. xref:0723-candy-crush.adoc[723. Candy Crush]
. xref:0763-partition-labels.adoc[763. Partition Labels]
. xref:0777-swap-adjacent-in-lr-string.adoc[777. Swap Adjacent in LR String]
. xref:0786-k-th-smallest-prime-fraction.adoc[786. K-th Smallest Prime Fraction]
. xref:0795-number-of-subarrays-with-bounded-maximum.adoc[795. Number of Subarrays with Bounded Maximum]
. xref:0809-expressive-words.adoc[809. Expressive Words]
. xref:0821-shortest-distance-to-a-character.adoc[821. Shortest Distance to a Character]
. xref:0825-friends-of-appropriate-ages.adoc[825. Friends Of Appropriate Ages]
. xref:0826-most-profit-assigning-work.adoc[826. Most Profit Assigning Work]
. xref:0832-flipping-an-image.adoc[832. Flipping an Image]
. xref:0838-push-dominoes.adoc[838. Push Dominoes]
. xref:0844-backspace-string-compare.adoc[844. Backspace String Compare]
. xref:0845-longest-mountain-in-array.adoc[845. Longest Mountain in Array]
. xref:0870-advantage-shuffle.adoc[870. Advantage Shuffle]
. xref:0876-middle-of-the-linked-list.adoc[876. Middle of the Linked List]
. xref:0881-boats-to-save-people.adoc[881. Boats to Save People]
. xref:0905-sort-array-by-parity.adoc[905. Sort Array By Parity]
. xref:0917-reverse-only-letters.adoc[917. Reverse Only Letters]
. xref:0922-sort-array-by-parity-ii.adoc[922. Sort Array By Parity II]
. xref:0923-3sum-with-multiplicity.adoc[923. 3Sum With Multiplicity]
. xref:0925-long-pressed-name.adoc[925. Long Pressed Name]
. xref:0942-di-string-match.adoc[942. DI String Match]
. xref:0948-bag-of-tokens.adoc[948. Bag of Tokens]
. xref:0962-maximum-width-ramp.adoc[962. Maximum Width Ramp]
. xref:0969-pancake-sorting.adoc[969. Pancake Sorting]
. xref:0977-squares-of-a-sorted-array.adoc[977. Squares of a Sorted Array]
. xref:0986-interval-list-intersections.adoc[986. Interval List Intersections]
. xref:1023-camelcase-matching.adoc[1023. Camelcase Matching]
. xref:1040-moving-stones-until-consecutive-ii.adoc[1040. Moving Stones Until Consecutive II]
. xref:1048-longest-string-chain.adoc[1048. Longest String Chain]
. xref:1055-shortest-way-to-form-string.adoc[1055. Shortest Way to Form String]
. xref:1089-duplicate-zeros.adoc[1089. Duplicate Zeros]
. xref:1099-two-sum-less-than-k.adoc[1099. Two Sum Less Than K]
. xref:1147-longest-chunked-palindrome-decomposition.adoc[1147. Longest Chunked Palindrome Decomposition]
. xref:1163-last-substring-in-lexicographical-order.adoc[1163. Last Substring in Lexicographical Order]
. xref:1214-two-sum-bsts.adoc[1214. Two Sum BSTs]
. xref:1229-meeting-scheduler.adoc[1229. Meeting Scheduler]
. xref:1237-find-positive-integer-solution-for-a-given-equation.adoc[1237. Find Positive Integer Solution for a Given Equation]
. xref:1265-print-immutable-linked-list-in-reverse.adoc[1265. Print Immutable Linked List in Reverse]
. xref:1332-remove-palindromic-subsequences.adoc[1332. Remove Palindromic Subsequences]
. xref:1346-check-if-n-and-its-double-exist.adoc[1346. Check If N and Its Double Exist]
. xref:1385-find-the-distance-value-between-two-arrays.adoc[1385. Find the Distance Value Between Two Arrays]
. xref:1455-check-if-a-word-occurs-as-a-prefix-of-any-word-in-a-sentence.adoc[1455. Check If a Word Occurs As a Prefix of Any Word in a Sentence]
. xref:1471-the-k-strongest-values-in-an-array.adoc[1471. The k Strongest Values in an Array]
. xref:1498-number-of-subsequences-that-satisfy-the-given-sum-condition.adoc[1498. Number of Subsequences That Satisfy the Given Sum Condition]
. xref:1508-range-sum-of-sorted-subarray-sums.adoc[1508. Range Sum of Sorted Subarray Sums]
. xref:1537-get-the-maximum-score.adoc[1537. Get the Maximum Score]
. xref:1570-dot-product-of-two-sparse-vectors.adoc[1570. Dot Product of Two Sparse Vectors]
. xref:1574-shortest-subarray-to-be-removed-to-make-array-sorted.adoc[1574. Shortest Subarray to be Removed to Make Array Sorted]
. xref:1577-number-of-ways-where-square-of-number-is-equal-to-product-of-two-numbers.adoc[1577. Number of Ways Where Square of Number Is Equal to Product of Two Numbers]
. xref:1616-split-two-strings-to-make-palindrome.adoc[1616. Split Two Strings to Make Palindrome]
. xref:1634-add-two-polynomials-represented-as-linked-lists.adoc[1634. Add Two Polynomials Represented as Linked Lists]
. xref:1650-lowest-common-ancestor-of-a-binary-tree-iii.adoc[1650. Lowest Common Ancestor of a Binary Tree III]
. xref:1679-max-number-of-k-sum-pairs.adoc[1679. Max Number of K-Sum Pairs]
. xref:1697-checking-existence-of-edge-length-limited-paths.adoc[1697. Checking Existence of Edge Length Limited Paths]
. xref:1712-ways-to-split-array-into-three-subarrays.adoc[1712. Ways to Split Array Into Three Subarrays]
. xref:1721-swapping-nodes-in-a-linked-list.adoc[1721. Swapping Nodes in a Linked List]
. xref:1750-minimum-length-of-string-after-deleting-similar-ends.adoc[1750. Minimum Length of String After Deleting Similar Ends]
. xref:1754-largest-merge-of-two-strings.adoc[1754. Largest Merge Of Two Strings]
. xref:1755-closest-subsequence-sum.adoc[1755. Closest Subsequence Sum]
. xref:1764-form-array-by-concatenating-subarrays-of-another-array.adoc[1764. Form Array by Concatenating Subarrays of Another Array]
. xref:1768-merge-strings-alternately.adoc[1768. Merge Strings Alternately]
. xref:1782-count-pairs-of-nodes.adoc[1782. Count Pairs Of Nodes]
. xref:1793-maximum-score-of-a-good-subarray.adoc[1793. Maximum Score of a Good Subarray]
. xref:1813-sentence-similarity-iii.adoc[1813. Sentence Similarity III]
. xref:1826-faulty-sensor.adoc[1826. Faulty Sensor]
. xref:1842-next-palindrome-using-same-digits.adoc[1842. Next Palindrome Using Same Digits]
. xref:1850-minimum-adjacent-swaps-to-reach-the-kth-smallest-number.adoc[1850. Minimum Adjacent Swaps to Reach the Kth Smallest Number]
. xref:1855-maximum-distance-between-a-pair-of-values.adoc[1855. Maximum Distance Between a Pair of Values]
. xref:1861-rotating-the-box.adoc[1861. Rotating the Box]
. xref:1868-product-of-two-run-length-encoded-arrays.adoc[1868. Product of Two Run-Length Encoded Arrays]
. xref:1877-minimize-maximum-pair-sum-in-array.adoc[1877. Minimize Maximum Pair Sum in Array]
. xref:1885-count-pairs-in-two-arrays.adoc[1885. Count Pairs in Two Arrays]
. xref:1898-maximum-number-of-removable-characters.adoc[1898. Maximum Number of Removable Characters]
. xref:1961-check-if-string-is-a-prefix-of-array.adoc[1961. Check If String Is a Prefix of Array]
. xref:1963-minimum-number-of-swaps-to-make-the-string-balanced.adoc[1963. Minimum Number of Swaps to Make the String Balanced]
. xref:2000-reverse-prefix-of-word.adoc[2000. Reverse Prefix of Word]
. xref:2035-partition-array-into-two-arrays-to-minimize-sum-difference.adoc[2035. Partition Array Into Two Arrays to Minimize Sum Difference]
. xref:2046-sort-linked-list-already-sorted-using-absolute-values.adoc[2046. Sort Linked List Already Sorted Using Absolute Values]
. xref:2095-delete-the-middle-node-of-a-linked-list.adoc[2095. Delete the Middle Node of a Linked List]
. xref:2105-watering-plants-ii.adoc[2105. Watering Plants II]
. xref:2108-find-first-palindromic-string-in-the-array.adoc[2108. Find First Palindromic String in the Array]
. xref:2109-adding-spaces-to-a-string.adoc[2109. Adding Spaces to a String]
. xref:2122-recover-the-original-array.adoc[2122. Recover the Original Array]
. xref:2130-maximum-twin-sum-of-a-linked-list.adoc[2130. Maximum Twin Sum of a Linked List]
. xref:2149-rearrange-array-elements-by-sign.adoc[2149. Rearrange Array Elements by Sign]
. xref:2161-partition-array-according-to-given-pivot.adoc[2161. Partition Array According to Given Pivot]
. xref:2193-minimum-number-of-moves-to-make-palindrome.adoc[2193. Minimum Number of Moves to Make Palindrome]
. xref:2200-find-all-k-distant-indices-in-an-array.adoc[2200. Find All K-Distant Indices in an Array]
. xref:2234-maximum-total-beauty-of-the-gardens.adoc[2234. Maximum Total Beauty of the Gardens]
. xref:2300-successful-pairs-of-spells-and-potions.adoc[2300. Successful Pairs of Spells and Potions]
. xref:2330-valid-palindrome-iv.adoc[2330. Valid Palindrome IV]
. xref:2332-the-latest-time-to-catch-a-bus.adoc[2332. The Latest Time to Catch a Bus]
. xref:2337-move-pieces-to-obtain-a-string.adoc[2337. Move Pieces to Obtain a String]
. xref:2367-number-of-arithmetic-triplets.adoc[2367. Number of Arithmetic Triplets]
. xref:2396-strictly-palindromic-number.adoc[2396. Strictly Palindromic Number]
. xref:2406-divide-intervals-into-minimum-number-of-groups.adoc[2406. Divide Intervals Into Minimum Number of Groups]
. xref:2410-maximum-matching-of-players-with-trainers.adoc[2410. Maximum Matching of Players With Trainers]
. xref:2422-merge-operations-to-turn-array-into-a-palindrome.adoc[2422. Merge Operations to Turn Array Into a Palindrome]
. xref:2441-largest-positive-integer-that-exists-with-its-negative.adoc[2441. Largest Positive Integer That Exists With Its Negative]
. xref:2460-apply-operations-to-an-array.adoc[2460. Apply Operations to an Array]
. xref:2462-total-cost-to-hire-k-workers.adoc[2462. Total Cost to Hire K Workers]
. xref:2465-number-of-distinct-averages.adoc[2465. Number of Distinct Averages]
. xref:2472-maximum-number-of-non-overlapping-palindrome-substrings.adoc[2472. Maximum Number of Non-overlapping Palindrome Substrings]
. xref:2486-append-characters-to-string-to-make-subsequence.adoc[2486. Append Characters to String to Make Subsequence]
. xref:2491-divide-players-into-teams-of-equal-skill.adoc[2491. Divide Players Into Teams of Equal Skill]
. xref:2503-maximum-number-of-points-from-grid-queries.adoc[2503. Maximum Number of Points From Grid Queries]
. xref:2511-maximum-enemy-forts-that-can-be-captured.adoc[2511. Maximum Enemy Forts That Can Be Captured]
. xref:2540-minimum-common-value.adoc[2540. Minimum Common Value]
. xref:2562-find-the-array-concatenation-value.adoc[2562. Find the Array Concatenation Value]
. xref:2563-count-the-number-of-fair-pairs.adoc[2563. Count the Number of Fair Pairs]
. xref:2565-subsequence-with-the-minimum-score.adoc[2565. Subsequence With the Minimum Score]
. xref:2570-merge-two-2d-arrays-by-summing-values.adoc[2570. Merge Two 2D Arrays by Summing Values]
. xref:2576-find-the-maximum-number-of-marked-indices.adoc[2576. Find the Maximum Number of Marked Indices]
. xref:2592-maximize-greatness-of-an-array.adoc[2592. Maximize Greatness of an Array]
. xref:2604-minimum-time-to-eat-all-grains.adoc[2604. Minimum Time to Eat All Grains]
. xref:2674-split-a-circular-linked-list.adoc[2674. Split a Circular Linked List]
. xref:2697-lexicographically-smallest-palindrome.adoc[2697. Lexicographically Smallest Palindrome]
. xref:2824-count-pairs-whose-sum-is-less-than-target.adoc[2824. Count Pairs Whose Sum is Less than Target]
. xref:2825-make-string-a-subsequence-using-cyclic-increments.adoc[2825. Make String a Subsequence Using Cyclic Increments]
. xref:2838-maximum-coins-heroes-can-collect.adoc[2838. Maximum Coins Heroes Can Collect]
. xref:2856-minimum-array-length-after-pair-removals.adoc[2856. Minimum Array Length After Pair Removals]
. xref:2868-the-wording-game.adoc[2868. The Wording Game]
. xref:2903-find-indices-with-index-and-value-difference-i.adoc[2903. Find Indices With Index and Value Difference I]
. xref:2905-find-indices-with-index-and-value-difference-ii.adoc[2905. Find Indices With Index and Value Difference II]
. xref:2911-minimum-changes-to-make-k-semi-palindromes.adoc[2911. Minimum Changes to Make K Semi-palindromes]
. xref:2938-separate-black-and-white-balls.adoc[2938. Separate Black and White Balls]
. xref:2970-count-the-number-of-incremovable-subarrays-i.adoc[2970. Count the Number of Incremovable Subarrays I]
. xref:2972-count-the-number-of-incremovable-subarrays-ii.adoc[2972. Count the Number of Incremovable Subarrays II]
. xref:3006-find-beautiful-indices-in-the-given-array-i.adoc[3006. Find Beautiful Indices in the Given Array I]
. xref:3008-find-beautiful-indices-in-the-given-array-ii.adoc[3008. Find Beautiful Indices in the Given Array II]
. xref:3132-find-the-integer-added-to-array-ii.adoc[3132. Find the Integer Added to Array II]
. xref:3186-maximum-total-damage-with-spell-casting.adoc[3186. Maximum Total Damage With Spell Casting]
. xref:3194-minimum-average-of-smallest-and-largest-elements.adoc[3194. Minimum Average of Smallest and Largest Elements]
. xref:3239-minimum-number-of-flips-to-make-binary-grid-palindromic-i.adoc[3239. Minimum Number of Flips to Make Binary Grid Palindromic I]
. xref:3240-minimum-number-of-flips-to-make-binary-grid-palindromic-ii.adoc[3240. Minimum Number of Flips to Make Binary Grid Palindromic II]
. xref:3284-sum-of-consecutive-subarrays.adoc[3284. Sum of Consecutive Subarrays]
. xref:3302-find-the-lexicographically-smallest-valid-sequence.adoc[3302. Find the Lexicographically Smallest Valid Sequence]
. xref:3316-find-maximum-removals-from-source-string.adoc[3316. Find Maximum Removals From Source String]
. xref:3400-maximum-number-of-matching-indices-after-right-shifts.adoc[3400. Maximum Number of Matching Indices After Right Shifts]
. xref:3403-find-the-lexicographically-largest-string-from-the-box-i.adoc[3403. Find the Lexicographically Largest String From the Box I]
. xref:3406-find-the-lexicographically-largest-string-from-the-box-ii.adoc[3406. Find the Lexicographically Largest String From the Box II]
. xref:3455-shortest-matching-substring.adoc[3455. Shortest Matching Substring]
. xref:3460-longest-common-prefix-after-at-most-one-removal.adoc[3460. Longest Common Prefix After at Most One Removal]
. xref:3503-longest-palindrome-after-substring-concatenation-i.adoc[3503. Longest Palindrome After Substring Concatenation I]
. xref:3504-longest-palindrome-after-substring-concatenation-ii.adoc[3504. Longest Palindrome After Substring Concatenation II]

== 参考资料

. http://joshuablog.herokuapp.com/Two-Pointer%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93.html[Two Pointer问题总结^]
. https://leetcode.cn/problems/middle-of-the-linked-list/solutions/165152/kuai-man-zhi-zhen-zhu-yao-zai-yu-diao-shi-by-liwei/[876. 链表的中间结点 - 注意链表长度为偶数时，返回第 2 个结点的细节^]
. https://leetcode.cn/problems/middle-of-the-linked-list/solutions/1646119/by-jyd-aphd/[876. 链表的中间结点 - 双指针，清晰图解^]
. https://leetcode.cn/problems/linked-list-cycle/solutions/175734/yi-wen-gao-ding-chang-jian-de-lian-biao-wen-ti-h-2/[141. 环形链表 - 一文搞定常见的链表问题^]
