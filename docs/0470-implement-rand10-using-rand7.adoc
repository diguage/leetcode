[#0470-implement-rand10-using-rand7]
= 470. 用 Rand7() 实现 Rand10()

https://leetcode.cn/problems/implement-rand10-using-rand7/[LeetCode - 470. 用 Rand7() 实现 Rand10() ^]

给定方法 `rand7` 可生成 `[1,7]` 范围内的均匀随机整数，试写一个方法 `rand10` 生成 `[1,10]` 范围内的均匀随机整数。

你只能调用 `rand7()` 且不能调用其他方法。请不要使用系统的 `Math.random()` 方法。

每个测试用例将有一个内部参数 `n`，即你实现的函数 `rand10()` 在测试时将被调用的次数。请注意，这不是传递给 `rand10()` 的参数。

*示例 1:*

....
输入: 1
输出: [2]
....

*示例 2:*

....
输入: 2
输出: [2,8]
....

*示例 3:*

....
输入: 3
输出: [3,8,10]
....

*提示:*

* `1 \<= n \<= 10^5^`

*进阶:*

* `rand7()` 调用次数的 https://en.wikipedia.org/wiki/Expected_value[期望值] 是多少?
* 你能否尽量少调用 `rand7()`?


== 思路分析

`rand7()` 可以生成 `[1, 7]` 的随机数，那么调用 10 次，则可以生成 `[10, 70]` 的随机数，然后除以 `10` 求余数则是 `[0, 9]`，再加一即可。

看完题解，才发现自己是蒙对了。利用 stem:[("rand_X()" -1) * Y + "rand_Y()" → \[1, X*Y\]]，就可以生成 stem:[\[1, X*Y\]]，拒绝 stem:[\[10*N+1, X*Y\]] 的部分，即可获得想要的随机数。如果生成的数字在拒绝部分，则可以通过 stem:[X*Y - 10*N] 可以获得 `[1, Z]` 的随机数，可以利用上述策略继续来生成想要的随机数。

[[src-0470]]
[tabs]
====
一刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0470_ImplementRand10UsingRand7.java[tag=answer]
----
--

// 二刷::
// +
// --
// [{java_src_attr}]
// ----
// include::{sourcedir}/_0470_ImplementRand10UsingRand7_2.java[tag=answer]
// ----
// --
====


== 参考资料

. https://leetcode.cn/problems/implement-rand10-using-rand7/solutions/167850/cong-zui-ji-chu-de-jiang-qi-ru-he-zuo-dao-jun-yun-/[470. 用 Rand7() 实现 Rand10() - 从最基础的讲起如何做到均匀的生成随机数^]
. https://leetcode.cn/problems/implement-rand10-using-rand7/solutions/139870/xiang-xi-si-lu-ji-you-hua-si-lu-fen-xi-zhu-xing-ji/[470. 用 Rand7() 实现 Rand10() - 详细思路及优化思路分析，逐行解释^]
. https://leetcode.cn/problems/implement-rand10-using-rand7/solutions/978985/gong-shui-san-xie-k-jin-zhi-zhu-wei-shen-zmd4/[470. 用 Rand7() 实现 Rand10() - k 进制诸位生成 + 拒绝采样^]
. https://leetcode.cn/problems/implement-rand10-using-rand7/solutions/978527/yong-rand7-shi-xian-rand10-by-leetcode-s-qbmd/[470. 用 Rand7() 实现 Rand10() - 官方题解^]
