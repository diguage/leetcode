[#0213-house-robber-ii]
= 213. 打家劫舍 II

https://leetcode.cn/problems/house-robber-ii/[LeetCode - 213. 打家劫舍 II ^]

你是一个专业的小偷，计划偷窃沿街的房屋，每间房内都藏有一定的现金。这个地方所有的房屋都 *围成一圈*，这意味着第一个房屋和最后一个房屋是紧挨着的。同时，相邻的房屋装有相互连通的防盗系统，*如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警*。

给定一个代表每个房屋存放金额的非负整数数组，计算你 *在不触动警报装置的情况下* ，今晚能够偷窃到的最高金额。

*示例 1：*

....
输入：nums = [2,3,2]
输出：3
解释：你不能先偷窃 1 号房屋（金额 = 2），然后偷窃 3 号房屋（金额 = 2）, 因为他们是相邻的。
....

*示例 2：*

....
输入：nums = [1,2,3,1]
输出：4
解释：你可以先偷窃 1 号房屋（金额 = 1），然后偷窃 3 号房屋（金额 = 3）。
     偷窃到的最高金额 = 1 + 3 = 4 。
....

*示例 3：*

....
输入：nums = [1,2,3]
输出：3
....

*提示：*

* `+1 <= nums.length <= 100+`
* `+0 <= nums[i] <= 1000+`


== 思路分析

相比 xref:0198-house-robber.adoc[198. House Robber]，这里的房屋是首尾相连，那么首和尾只能选一个。这里采取“从头到尾”和“从尾到头”遍历两遍的策略，在遍历时都排除最后一个元素不考虑。然后取这两遍遍历中的最大值为结果。

另外，还有一个思路：从第一个开始抢劫到倒数第二个，或者从第二个开始抢劫，抢到最后一个。

[[src-0213]]
[tabs]
====
一刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0213_HouseRobberIi.java[tag=answer]
----
--

二刷（两端）::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0213_HouseRobberIi_20.java[tag=answer]
----
--

二刷（第一、二）::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0213_HouseRobberIi_21.java[tag=answer]
----
--
====


== 参考资料

. https://leetcode.cn/problems/house-robber-ii/solutions/2445622/jian-ji-xie-fa-zhi-jie-diao-yong-198-ti-qhvri/[213. 打家劫舍 II - 简洁写法！直接调用 198 题代码！^]
. https://leetcode.cn/problems/house-robber-ii/solutions/28258/213-da-jia-jie-she-iidong-tai-gui-hua-jie-gou-hua-/[213. 打家劫舍 II - 打家劫舍 II（动态规划，结构化思路，清晰题解）^]
. https://leetcode.cn/problems/house-robber-ii/solutions/722767/da-jia-jie-she-ii-by-leetcode-solution-bwja/[213. 打家劫舍 II - 官方题解^]
. https://leetcode.cn/problems/house-robber-ii/solutions/67465/tong-yong-si-lu-tuan-mie-da-jia-jie-she-wen-ti-by-/[213. 打家劫舍 II - 通用思路团灭打家劫舍问题^]
. https://leetcode.cn/problems/house-robber-ii/solutions/723182/gong-shui-san-xie-ru-he-jiang-xin-xian-z-zf0w/[213. 打家劫舍 II - 【宫水三叶】从 I 到 II : 如何将「新限制条件」拎出，将问题转化为已解决方案^]

