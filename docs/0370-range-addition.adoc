[#0370-range-addition]
= 370. 区间加法

https://leetcode.cn/problems/range-addition/[LeetCode - 370. 区间加法^]

假设你有一个长度为 `n` 的数组，初始情况下所有的数字均为 `0`，你将会被给出 `k` 个更新的操作。

其中，每个操作会被表示为一个三元组：`[startIndex, endIndex, inc]`，表示需要将子数组 `A[startIndex ... endIndex]`（含 `startIndex` 和 `endIndex`）增加 `inc`。

请你返回 `k` 次操作后的数组。

*示例:*

....
输入:
    length = 5,
    updates = [
        [1,  3,  2],
        [2,  4,  3],
        [0,  2, -2]
    ]
输出: [-2,0,3,5,3]
....

*解释:*

....
初始状态:
[0,0,0,0,0]

进行了操作 [1,3,2] 后的状态:
[0,2,2,2,0]

进行了操作 [2,4,3] 后的状态:
[0,2,5,5,3]

进行了操作 [0,2,-2] 后的状态:
[-2,0,3,5,3]
....


== 思路分析

差分数组：把变量记录在差分数组上进行打标，全部打标完成后，再从第二项开始逐项求与前一项的累加值。

image::images/0370-01.png[{image_attr}]

这道题与 xref:1094-car-pooling.adoc[1094. Car Pooling] 一样，并且它不是 Plus 题目，可以验证答案。

[[src-0370]]
[tabs]
====
一刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0370_RangeAddition.java[tag=answer]
----
--

二刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0370_RangeAddition_2.java[tag=answer]
----
--
====


== 参考资料

. https://leetcode.cn/circle/discuss/FfMCgb/[分享｜【算法小课堂】差分数组（Python/Java/C++/Go/JS^]
. https://oi-wiki.org/basic/prefix-sum/[前缀和 & 差分 - OI Wiki^]
. https://teckbakers.hashnode.dev/difference-array-technique[competitive programming difference array technique^]
