[#0416-partition-equal-subset-sum]
= 416. 分割等和子集

https://leetcode.cn/problems/partition-equal-subset-sum/[LeetCode - 416. 分割等和子集^]

给你一个 *只包含正整数* 的 *非空* 数组 `nums`。请你判断是否可以将这个数组分割成两个子集，使得两个子集的元素和相等。

*示例 1：*

....
输入：nums = [1,5,11,5]
输出：true
解释：数组可以分割成 [1, 5, 5] 和 [11] 。
....

*示例 2：*

....
输入：nums = [1,2,3,5]
输出：false
解释：数组不能分割成两个元素和相等的子集。
....

*提示：*

* `+1 <= nums.length <= 200+`
* `+1 <= nums[i] <= 100+`


== 思路分析

这道题使用回溯法更容易理解，也更高效。

image::images/0416-01.png[{image_attr}]

建议动笔计算，手动模拟填表的过程，其实就是画表格。这个过程非常重要，自己动手填过表，更能加深体会程序是如何执行的，也能更好地理解「空间优化」技巧的思路和好处。

image::images/0416-02.png[{image_attr}]

与 xref:0322-coin-change.adoc[322. Coin Change] 对比，体会一下 <<0000-26-dp-1-0-1-knapsack>> 与 <<0000-26-dp-2-unbounded-knapsack>> 的差异：


|===
|特征 |0/1 背包 (0/1 Knapsack) |完全背包 (Unbounded Knapsack)

|核心定义
|每种物品**仅有一件**
|每种物品有**无限件**

|二维状态转移方程
|asciimath:[dp[i\][j\] = max(dp[i-1\][j\], dp[i-1\][j-w\]+v)]
|asciimath:[dp[i\][j\] = max(dp[i-1\][j\], dp[i\][j-w\]+v)]

|状态依赖
|依赖上一轮 (`i-1`) 的状态
|依赖本轮 (`i`) 的状态

|一维优化遍历顺序
|**逆序**遍历背包容量 `j`。 +
必须先遍历物品种类，再遍历背包容量。 不能颠倒！！！
|**正序**遍历背包容量 `j` +
两个for循环嵌套顺序是无所谓的！

|Java核心代码差异
|`for (int j = W; j >= weight; j--)`
|`for (int j = weight; j <= W; j++)`

|===


[[src-0416]]
[tabs]
====
一刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0416_PartitionEqualSubsetSum.java[tag=answer]
----
--

二刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0416_PartitionEqualSubsetSum_2.java[tag=answer]
----
--

三刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0416_PartitionEqualSubsetSum_3.java[tag=answer]
----
--

四刷(空间优化)::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0416_PartitionEqualSubsetSum_4.java[tag=answer]
----
--

五刷::
+
--
[{java_src_attr}]
----
include::{sourcedir}/_0416_PartitionEqualSubsetSum_5.java[tag=answer]
----
--
====

== 思考题

. 将计算过程在纸上手动推演一遍；
. 研究一下背包问题。

== 参考资料

. https://leetcode.cn/problems/partition-equal-subset-sum/solutions/783988/yi-pian-wen-zhang-chi-tou-bei-bao-wen-ti-a7dd/[416. 分割等和子集 - 一篇文章吃透背包问题！（细致引入+解题模板+例题分析+代码呈现）^]
. https://leetcode.cn/problems/partition-equal-subset-sum/solutions/553978/bang-ni-ba-0-1bei-bao-xue-ge-tong-tou-by-px33/[416. 分割等和子集 - 「代码随想录」帮你把0-1背包学个通透！（附背包完整攻略）^]
. https://leetcode.cn/problems/partition-equal-subset-sum/solutions/13059/0-1-bei-bao-wen-ti-xiang-jie-zhen-dui-ben-ti-de-yo/[416. 分割等和子集 - 动态规划（转换为 0-1 背包问题，Java，最后有类似问题列表）^]
. https://leetcode.cn/problems/partition-equal-subset-sum/solutions/2785266/0-1-bei-bao-cong-ji-yi-hua-sou-suo-dao-d-ev76/[416. 分割等和子集 - 三种写法：记忆化搜索 / 递推 / bitset 优化^]
. https://leetcode.cn/problems/partition-equal-subset-sum/solutions/46671/java-hui-su-fa-jie-fa-2ms-by-wang_dong/[416. 分割等和子集 - java 回溯法解法 2ms^]
. https://www.kancloud.cn/kancloud/pack/70124[前言 · 背包问题九讲 · 看云^]
. https://www.youtube.com/watch?v=nleY0-eexps[背包九讲问题（上） - YouTube^]
. https://www.youtube.com/watch?v=0Jp4p0uO7Dw[背包九讲问题（下） - YouTube^]
. https://juejin.cn/post/7218532789196062781[动态规划背包问题之完全背包^]




